<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Desk Card v6</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&display=swap');

  :root {
    --ha-bg:        #111318;
    --ha-card:      #1c2028;
    --ha-border:    rgba(255,255,255,0.07);
    --ha-subtle:    #252a34;
    --ha-muted:     #5c6478;
    --ha-text:      #e2e6f0;

    --sit:          #3b82f6;
    --sit-dim:      rgba(59,130,246,0.14);
    --sit-text:     #93c5fd;
    --sit-border:   rgba(59,130,246,0.22);

    --stand:        #22c55e;
    --stand-dim:    rgba(34,197,94,0.14);
    --stand-text:   #86efac;
    --stand-border: rgba(34,197,94,0.22);

    --grey:         #4b5563;
    --grey-dim:     rgba(107,114,128,0.10);
    --grey-text:    #9ca3af;
    --grey-fill:    #374151;

    --btn-w: 108px;

    /*
      SVG viewBox: 0 0 32 48
      Surface: y=2, h=3   → bottom edge at y=5
      Legs:    y=5, h=38  → bottom edge at y=43
      Foot:    y=44, h=4

      STAND: translateY(0),  scaleY(1.0)
      SIT:   scaleY(0.3) → leg top at 43 - 38*0.3 = 43 - 11.4 = 31.6
             translateY(31.6 - 5) ≈ 27px so surface bottom meets leg top

      Animation travel: 27px
    */
    --sit-ty:    27px;
    --sit-sy:    0.3;
    --stand-ty:  0px;
    --stand-sy:  1.0;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--ha-bg);
    font-family: 'DM Sans', system-ui, sans-serif;
    color: var(--ha-text);
    min-height: 100vh;
    padding: 44px 28px 64px;
  }

  .page-eyebrow {
    text-align: center;
    font-size: 11px;
    font-weight: 500;
    letter-spacing: 0.13em;
    text-transform: uppercase;
    color: var(--ha-muted);
    margin-bottom: 6px;
  }
  .page-title {
    text-align: center;
    font-size: 20px;
    font-weight: 600;
    color: var(--ha-text);
    margin-bottom: 36px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
    max-width: 960px;
    margin: 0 auto;
  }

  .col-label {
    text-align: center;
    font-size: 10px;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--ha-muted);
    margin-bottom: 8px;
  }

  /* ── Card ───────────────────────────── */
  .card {
    background: var(--ha-card);
    border: 1px solid var(--ha-border);
    border-radius: 14px;
    padding: 14px;
  }

  /*
    Layout:
    ┌─────────────────────┬──────────────────────┐
    │ Office Desk (title) │ [gauge] [Stand btn]  │
    │                     │        [Sit btn  ]   │
    │ [desk] 78cm         │                      │
    └─────────────────────┴──────────────────────┘

    card-inner: flex row → [col-left] [col-right]
    col-left:   flex col, space-between → title at top, desk+num at bottom
    col-right:  flex row → gauge | btn-stack
    Both cols stretch to the same height (driven by col-right).
  */

  .card-inner {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    gap: 12px;
  }

  /* Left column: title top, desk+number bottom */
  .col-left {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-width: 0;
  }

  .card-title {
    font-size: 12px;
    font-weight: 600;
    color: var(--ha-text);
    line-height: 1;
    /* Sits at top, aligning with gauge top / stand-btn top */
  }

  /* Desk icon + number side by side, anchored to bottom of left col */
  .desk-row {
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    gap: 8px;
  }

  .col-desk {
    flex-shrink: 0;
    width: 32px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
  }

  .height-num {
    font-size: 34px;
    font-weight: 300;
    letter-spacing: -1.5px;
    line-height: 1;
  }
  .height-unit {
    font-size: 13px;
    font-weight: 400;
    opacity: 0.45;
    margin-left: 1px;
  }

  /* Right column: gauge track + button stack */
  .col-right {
    flex-shrink: 0;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    gap: 8px;
  }

  .gauge-track {
    width: 4px;
    background: var(--ha-subtle);
    border-radius: 4px;
    position: relative;
    overflow: hidden;
    align-self: stretch;
  }
  .gauge-fill {
    position: absolute;
    bottom: 0; left: 0;
    width: 100%;
    border-radius: 4px;
  }

  .btn-stack {
    display: flex;
    flex-direction: column;
    gap: 6px;
    justify-content: space-between;
  }

  .btn {
    border: none;
    border-radius: 8px;
    width: var(--btn-w);
    flex-shrink: 0;
    height: 30px;
    font-family: 'DM Sans', system-ui, sans-serif;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    white-space: nowrap;
    letter-spacing: 0.02em;
    position: relative;
    overflow: hidden;
  }
  .btn svg { width: 10px; height: 10px; flex-shrink: 0; }

  .btn-active-sit   { background: var(--sit-dim);   color: var(--sit-text);   border: 1px solid var(--sit-border);    }
  .btn-active-stand { background: var(--stand-dim); color: var(--stand-text); border: 1px solid var(--stand-border);  }
  .btn-ghost        { background: var(--ha-subtle); color: var(--ha-muted);   border: 1px solid transparent;          }
  .btn-motion       { background: var(--grey-dim);  color: var(--grey-text);  border: 1px solid rgba(107,114,128,0.18); cursor: default; }
  .btn-recede       { background: var(--ha-subtle); color: var(--ha-muted);   border: 1px solid transparent; opacity: 0.28; cursor: not-allowed; }

  @keyframes shimmer {
    0%   { transform: translateX(-100%); }
    60%  { transform: translateX(200%);  }
    100% { transform: translateX(200%);  }
  }
  .btn-shimmer::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      105deg,
      transparent 25%,
      rgba(255,255,255,0.09) 50%,
      transparent 75%
    );
    animation: shimmer 1.8s ease-in-out infinite;
  }

  @keyframes text-pulse {
    0%,100% { opacity: 0.55; }
    50%     { opacity: 1.00; }
  }
  .text-pulse { animation: text-pulse 1.4s ease-in-out infinite; }


  /* ══════════════════════════════════════
     DESK SVG  —  viewBox 0 0 32 48
     Surface: y=2, h=3
     Legs:    y=5, h=38  (to y=43)
     Foot:    y=44, h=4

     STAND: translateY(0),   scaleY(1.0)
     SIT:   translateY(27px),scaleY(0.3)
  ══════════════════════════════════════ */

  .desk-legs { transform-origin: 50% 100%; }

  .state-sit   .desk-surface { transform: translateY(27px); }
  .state-sit   .desk-legs    { transform: scaleY(0.3); }
  .state-stand .desk-surface { transform: translateY(0px); }
  .state-stand .desk-legs    { transform: scaleY(1.0); }

  /* RAISING: ease up → pause at top → snap back → loop */
  @keyframes surface-raise {
    0%     { transform: translateY(27px); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { transform: translateY(0px);  animation-timing-function: steps(1,end); }
    80%    { transform: translateY(0px);  }
    80.01% { transform: translateY(27px); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { transform: translateY(27px); }
  }
  @keyframes legs-raise {
    0%     { transform: scaleY(0.3); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { transform: scaleY(1.0); animation-timing-function: steps(1,end); }
    80%    { transform: scaleY(1.0); }
    80.01% { transform: scaleY(0.3); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { transform: scaleY(0.3); }
  }
  @keyframes gauge-raise {
    0%     { height: 27%; animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { height: 78%; animation-timing-function: steps(1,end); }
    80%    { height: 78%; }
    80.01% { height: 27%; animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { height: 27%; }
  }

  /* LOWERING: ease down → pause at bottom → snap back → loop */
  @keyframes surface-lower {
    0%     { transform: translateY(0px);  animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { transform: translateY(27px); animation-timing-function: steps(1,end); }
    80%    { transform: translateY(27px); }
    80.01% { transform: translateY(0px);  animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { transform: translateY(0px);  }
  }
  @keyframes legs-lower {
    0%     { transform: scaleY(1.0); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { transform: scaleY(0.3); animation-timing-function: steps(1,end); }
    80%    { transform: scaleY(0.3); }
    80.01% { transform: scaleY(1.0); animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { transform: scaleY(1.0); }
  }
  @keyframes gauge-lower {
    0%     { height: 78%; animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    62%    { height: 27%; animation-timing-function: steps(1,end); }
    80%    { height: 27%; }
    80.01% { height: 78%; animation-timing-function: cubic-bezier(0.42,0,0.22,1); }
    100%   { height: 78%; }
  }

  .state-raising  .desk-surface { animation: surface-raise 2.2s infinite; }
  .state-raising  .desk-legs    { animation: legs-raise    2.2s infinite; transform-origin: 50% 100%; }
  .state-raising  .gauge-anim   { animation: gauge-raise   2.2s infinite; }

  .state-lowering .desk-surface { animation: surface-lower 2.2s infinite; }
  .state-lowering .desk-legs    { animation: legs-lower    2.2s infinite; transform-origin: 50% 100%; }
  .state-lowering .gauge-anim   { animation: gauge-lower   2.2s infinite; }

</style>
</head>
<body>

<div class="page-eyebrow">Home Assistant · Dashboard Card</div>
<div class="page-title">Desk Height — v6</div>

<div class="grid">

  <!-- ① SITTING ─────────────────────── -->
  <div>
    <div class="col-label">① Sitting</div>
    <div class="card">
      <div class="card-inner">
        <div class="col-left">
          <div class="card-title">Office Desk</div>
          <div class="desk-row">
            <div class="col-desk">
              <svg class="state-sit" width="32" height="48" viewBox="0 0 32 48" overflow="visible">
                <g class="desk-surface">
                  <rect x="0" y="2" width="32" height="3" rx="1.5" fill="#60a5fa" opacity="0.9"/>
                </g>
                <g class="desk-legs">
                  <rect x="3"  y="5" width="5" height="38" rx="2" fill="#3b82f6" opacity="0.38"/>
                  <rect x="24" y="5" width="5" height="38" rx="2" fill="#3b82f6" opacity="0.38"/>
                  <rect x="1"  y="44" width="30" height="4" rx="1.5" fill="#3b82f6" opacity="0.18"/>
                </g>
              </svg>
            </div>
            <div class="height-num" style="color:#60a5fa;">78<span class="height-unit">cm</span></div>
          </div>
        </div>
        <div class="col-right">
          <div class="gauge-track">
            <div class="gauge-fill" style="height:27%; background:var(--sit);"></div>
          </div>
          <div class="btn-stack">
            <button class="btn btn-ghost">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,7 5,2 9,7"/>
              </svg>
              Stand
            </button>
            <button class="btn btn-active-sit">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,3 5,8 9,3"/>
              </svg>
              Sit
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ② RAISING ──────────────────────── -->
  <div>
    <div class="col-label">② Raising</div>
    <div class="card">
      <div class="card-inner">
        <div class="col-left">
          <div class="card-title">Office Desk</div>
          <div class="desk-row">
            <div class="col-desk">
              <svg class="state-raising" width="32" height="48" viewBox="0 0 32 48" overflow="visible">
                <g class="desk-surface">
                  <rect x="0" y="2" width="32" height="3" rx="1.5" fill="#9ca3af" opacity="0.70"/>
                </g>
                <g class="desk-legs">
                  <rect x="3"  y="5" width="5" height="38" rx="2" fill="#6b7280" opacity="0.30"/>
                  <rect x="24" y="5" width="5" height="38" rx="2" fill="#6b7280" opacity="0.30"/>
                  <rect x="1"  y="44" width="30" height="4" rx="1.5" fill="#6b7280" opacity="0.15"/>
                </g>
              </svg>
            </div>
            <div class="height-num" style="color:var(--grey-text);">92<span class="height-unit">cm</span></div>
          </div>
        </div>
        <div class="col-right">
          <div class="gauge-track">
            <div class="gauge-fill gauge-anim" style="height:27%; background:var(--grey-fill);"></div>
          </div>
          <div class="btn-stack">
            <button class="btn btn-motion btn-shimmer">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,7 5,2 9,7"/>
              </svg>
              <span class="text-pulse">Raising</span>
            </button>
            <button class="btn btn-recede" disabled>
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,3 5,8 9,3"/>
              </svg>
              Sit
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ③ STANDING ──────────────────────── -->
  <div>
    <div class="col-label">③ Standing</div>
    <div class="card">
      <div class="card-inner">
        <div class="col-left">
          <div class="card-title">Office Desk</div>
          <div class="desk-row">
            <div class="col-desk">
              <svg class="state-stand" width="32" height="48" viewBox="0 0 32 48" overflow="visible">
                <g class="desk-surface">
                  <rect x="0" y="2" width="32" height="3" rx="1.5" fill="#4ade80" opacity="0.9"/>
                </g>
                <g class="desk-legs">
                  <rect x="3"  y="5" width="5" height="38" rx="2" fill="#22c55e" opacity="0.38"/>
                  <rect x="24" y="5" width="5" height="38" rx="2" fill="#22c55e" opacity="0.38"/>
                  <rect x="1"  y="44" width="30" height="4" rx="1.5" fill="#22c55e" opacity="0.18"/>
                </g>
              </svg>
            </div>
            <div class="height-num" style="color:#4ade80;">106<span class="height-unit">cm</span></div>
          </div>
        </div>
        <div class="col-right">
          <div class="gauge-track">
            <div class="gauge-fill" style="height:78%; background:var(--stand);"></div>
          </div>
          <div class="btn-stack">
            <button class="btn btn-active-stand">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,7 5,2 9,7"/>
              </svg>
              Stand
            </button>
            <button class="btn btn-ghost">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,3 5,8 9,3"/>
              </svg>
              Sit
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ④ LOWERING ──────────────────────── -->
  <div>
    <div class="col-label">④ Lowering</div>
    <div class="card">
      <div class="card-inner">
        <div class="col-left">
          <div class="card-title">Office Desk</div>
          <div class="desk-row">
            <div class="col-desk">
              <svg class="state-lowering" width="32" height="48" viewBox="0 0 32 48" overflow="visible">
                <g class="desk-surface">
                  <rect x="0" y="2" width="32" height="3" rx="1.5" fill="#9ca3af" opacity="0.70"/>
                </g>
                <g class="desk-legs">
                  <rect x="3"  y="5" width="5" height="38" rx="2" fill="#6b7280" opacity="0.30"/>
                  <rect x="24" y="5" width="5" height="38" rx="2" fill="#6b7280" opacity="0.30"/>
                  <rect x="1"  y="44" width="30" height="4" rx="1.5" fill="#6b7280" opacity="0.15"/>
                </g>
              </svg>
            </div>
            <div class="height-num" style="color:var(--grey-text);">92<span class="height-unit">cm</span></div>
          </div>
        </div>
        <div class="col-right">
          <div class="gauge-track">
            <div class="gauge-fill gauge-anim" style="height:78%; background:var(--grey-fill);"></div>
          </div>
          <div class="btn-stack">
            <button class="btn btn-recede" disabled>
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,7 5,2 9,7"/>
              </svg>
              Stand
            </button>
            <button class="btn btn-motion btn-shimmer">
              <svg viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1,3 5,8 9,3"/>
              </svg>
              <span class="text-pulse">Lowering</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
</body>
</html>
